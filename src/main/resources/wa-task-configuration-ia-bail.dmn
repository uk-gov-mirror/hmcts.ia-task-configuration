<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:biodi="http://bpmn.io/schema/dmn/biodi/2.0" xmlns:camunda="http://camunda.org/schema/1.0/dmn" id="wa-configuration-definition" name="DRD" namespace="http://camunda.org/schema/1.0/dmn" exporter="Camunda Modeler" exporterVersion="5.34.0">
  <decision id="wa-task-configuration-ia-bail" name="Task configuration DMN" camunda:historyTimeToLive="P90D">
    <decisionTable id="DecisionTable_14cx079" hitPolicy="COLLECT">
      <input id="InputClause_1gxyo7f" label="CCD Case Data" camunda:inputVariable="caseData">
        <inputExpression id="LiteralExpression_0mra7c4" typeRef="string">
          <text></text>
        </inputExpression>
      </input>
      <input id="InputClause_1gmuynt" label="Task type" biodi:width="415" camunda:inputVariable="taskType">
        <inputExpression id="LiteralExpression_06iiuqg" typeRef="string">
          <text>if(taskAttributes != null and taskAttributes.taskType != null) then
                        taskAttributes. taskType
                        else if(taskType != null) then
                        taskType
                        else
                        null
                    </text>
        </inputExpression>
      </input>
      <output id="Output_1" label="Name" name="name" typeRef="string" />
      <output id="OutputClause_021y3bb" label="Value" name="value" typeRef="string" biodi:width="803" />
      <output id="OutputClause_06m3ktt" label="Can Reconfigure?" name="canReconfigure" typeRef="boolean" biodi:width="192" />
      <rule id="DecisionRule_0u7yi27">
        <inputEntry id="UnaryTests_03ky0ek">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_03q2nz0">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0nkps91">
          <text>"caseName"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_06tqng3">
          <text>if (caseData.caseNameHmctsInternal != null) then caseData.caseNameHmctsInternal else ""</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_09ruaaf">
          <text>true</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_0r3u9cf">
        <inputEntry id="UnaryTests_1bqxdqr">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_0wxfevs">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0etwrk3">
          <text>"region"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_05korws">
          <text>  if (caseData.caseManagementLocation != null and caseData.caseManagementLocation.region != null)
  then caseData.caseManagementLocation.region
  else "1" </text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0dwx9qa">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_06fd9qz">
        <inputEntry id="UnaryTests_0slfog9">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1u21xrs">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0kun6mv">
          <text>"location"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0jj1wzo">
          <text>  if (caseData.caseManagementLocation != null and caseData.caseManagementLocation.baseLocationCode != null)
  then caseData.caseManagementLocation.baseLocationCode
  else "227101"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1wrzh5i">
          <text>true</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1oirne1">
        <inputEntry id="UnaryTests_04xtpdu">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1ssoq5v">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_1lvlmxm">
          <text>"locationName"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0xp4dc7">
          <text>  if (caseData.caseManagementLocation != null and caseData.caseManagementLocation.baseLocationLabel != null)
  then caseData.caseManagementLocation.baseLocationLabel
  else "Newport"                    </text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1la2dkb">
          <text>true</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1uwtep0">
        <inputEntry id="UnaryTests_09twmfp">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_00vcipi">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_18p2rj7">
          <text>"caseManagementCategory"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0r2b7yo">
          <text>"Bail"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0yrdabo">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_0ikmf14">
        <inputEntry id="UnaryTests_0epux74">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1y3kj1v">
          <text>"processBailApplication","reviewInterpreterFlag","noticeOfChange","followUpBailSummary","reviewAdditionalEvidence","uploadSignedDecision","postHearingRecord","listForFurtherReview"</text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0rvgay2">
          <text>"workType"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0zoponq">
          <text>"routine_work"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_19npk6t">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1dhhpyl">
        <inputEntry id="UnaryTests_13pqmkc">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_10f3uas">
          <text>"processBailApplication","reviewInterpreterFlag","noticeOfChange","followUpBailSummary","reviewAdditionalEvidence","uploadSignedDecision","postHearingRecord","listForFurtherReview"</text>
        </inputEntry>
        <outputEntry id="LiteralExpression_05l5bvs">
          <text>"roleCategory"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_18y163a">
          <text>"ADMIN"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0cde4ic">
          <text>true</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1lny4x5">
        <inputEntry id="UnaryTests_1jpdq6j">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1hpq8zy">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0omo7uu">
          <text>"description"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1iaoi95">
          <text>  if (taskAttributes != null and taskAttributes.taskType = "processBailApplication" or taskType = "processBailApplication")
  then "[Confirm location](/case/IA/Bail/${[CASE_REFERENCE]}/trigger/confirmDetentionLocation)"
  else if (taskAttributes != null and taskAttributes.taskType = "reviewInterpreterFlag" or taskType = "reviewInterpreterFlag")
  then "[Update interpreter status](/case/IA/Bail/${[CASE_REFERENCE]}/trigger/updateInterpreterBookingStatus)"
  else if (taskAttributes != null and taskAttributes.taskType = "noticeOfChange" or taskType = "noticeOfChange")
  then "Follow up with applicant"
  else if (taskAttributes != null and taskAttributes.taskType = "followUpBailSummary" or taskType = "followUpBailSummary")
  then "[Send direction](/case/IA/Bail/${[CASE_REFERENCE]}/trigger/sendBailDirection) if required"
  else if (taskAttributes != null and taskAttributes.taskType = "reviewAdditionalEvidence" or taskType = "reviewAdditionalEvidence")
  then "Review additional evidence"
  else if (taskAttributes != null and taskAttributes.taskType = "uploadSignedDecision" or taskType = "uploadSignedDecision")
  then "[Upload Signed Decision](/case/IA/Bail/${[CASE_REFERENCE]}/trigger/uploadSignedDecisionNotice)"
  else if (taskAttributes != null and taskAttributes.taskType = "listForFurtherReview" or taskType = "listForFurtherReview")
  then "[Relist the case](/case/IA/Bail/${[CASE_REFERENCE]}/hearings)"
  else if (taskAttributes != null and taskAttributes.taskType = "postHearingRecord" or taskType = "postHearingRecord")
  then "[Add hearing details](/case/IA/Bail/${[CASE_REFERENCE]}/hearings)"
  else ""</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_184xf0n">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_15pnkjv">
        <inputEntry id="UnaryTests_0cuyrmi">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1xqy885">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_17n2o8t">
          <text>"dueDateOrigin"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1olr8gj">
          <text>now()</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1jfd9es">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1xk0urt">
        <inputEntry id="UnaryTests_03vtzac">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_0xz0tmx">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0n2s323">
          <text>"dueDateNonWorkingCalendar"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_01me67r">
          <text>"https://www.gov.uk/bank-holidays/england-and-wales.json, https://raw.githubusercontent.com/hmcts/ia-task-configuration/master/src/test/resources/extra-non-working-day-calendar.json"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_15rsx8r">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_0nwq04c">
        <inputEntry id="UnaryTests_0dicms7">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_01h3gvh">
          <text>"testTask"</text>
        </inputEntry>
        <outputEntry id="LiteralExpression_18mybq6">
          <text>"dueDateIntervalDays"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0ndl97b">
          <text>5</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1rv7ncp">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_165bqfp">
        <inputEntry id="UnaryTests_1cy9w2v">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_0sk78xf">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_1jpp20e">
          <text>"majorPriority"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0mq5gsr">
          <text>5000</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1f4fovi">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_0d4k7a3">
        <inputEntry id="UnaryTests_17p5sgb">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_0bg2thb">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_07pamwu">
          <text>"minorPriority"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1un1fpp">
          <text>500</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1cssjo4">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1iccxzh">
        <inputEntry id="UnaryTests_1oh593l">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_08641k9">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_1x7qwr7">
          <text>"priorityDateOriginRef"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0vpgaux">
          <text>"dueDate"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_16sccu5">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_0n6xlhj">
        <inputEntry id="UnaryTests_0oe8d4b">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1q7g8iu">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0s6253e">
          <text>"dueDateNonWorkingDaysOfWeek"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1fuo3hm">
          <text>"SATURDAY,SUNDAY"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1omikjm">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_11jkcdp">
        <inputEntry id="UnaryTests_065p43f">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_08t14g0">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0nzrd2w">
          <text>"calculatedDates"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0sbydg2">
          <text>"nextHearingDate,dueDate,priorityDate"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_102zbyh">
          <text>false</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_1ae79dl">
        <inputEntry id="UnaryTests_176bsfq">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1bl31cp">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_0t2i1en">
          <text>"nextHearingId"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1utatib">
          <text>if (caseData != null and caseData.nextHearingDetails != null and caseData.nextHearingDetails.hearingID != null) then caseData.nextHearingDetails.hearingID else ""</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1iroi68">
          <text>true</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_0jybdsg">
        <inputEntry id="UnaryTests_1vuhccu">
          <text></text>
        </inputEntry>
        <inputEntry id="UnaryTests_1ghbdtf">
          <text></text>
        </inputEntry>
        <outputEntry id="LiteralExpression_1s43i47">
          <text>"nextHearingDate"</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_1jvms47">
          <text>if (caseData != null and caseData.nextHearingDetails != null and caseData.nextHearingDetails.hearingDateTime != null) then caseData.nextHearingDetails.hearingDateTime else ""</text>
        </outputEntry>
        <outputEntry id="LiteralExpression_0bbhq0e">
          <text>true</text>
        </outputEntry>
      </rule>
    </decisionTable>
  </decision>
  <dmndi:DMNDI>
    <dmndi:DMNDiagram id="DMNDiagram_1ifewa3">
      <dmndi:DMNShape id="DMNShape_0ijg0or" dmnElementRef="wa-task-configuration-ia-bail">
        <dc:Bounds height="80" width="180" x="150" y="80" />
      </dmndi:DMNShape>
    </dmndi:DMNDiagram>
  </dmndi:DMNDI>
</definitions>
